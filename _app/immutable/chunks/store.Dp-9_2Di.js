import{u as g,b as a,d as v,e as _,g as l,h as i,i as m,j as h,k,l as x,m as y,n as b,o as j}from"./runtime.C3Ew8ih5.js";import{s as w}from"./index.BwsgVd4z.js";function A(e=!1){const s=v,n=s.l.u;if(!n)return;let r=()=>h(s.s);if(e){let u=0,t={};const d=k(()=>{let c=!1;const f=s.s;for(const o in f)f[o]!==t[o]&&(t[o]=f[o],c=!0);return c&&u++,u});r=()=>i(d)}n.b.length&&g(()=>{p(s,r),l(n.b)}),a(()=>{const u=_(()=>n.m.map(m));return()=>{for(const t of u)typeof t=="function"&&t()}}),n.a.length&&a(()=>{p(s,r),l(n.a)})}function p(e,s){if(e.l.s)for(const n of e.l.s)i(n);s()}function B(e,s,n){const r=n[s]??(n[s]={store:null,source:y(void 0),unsubscribe:b});if(r.store!==e)if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=b;else{var u=!0;r.unsubscribe=w(e,t=>{u?r.source.v=t:j(r.source,t)}),u=!1}return i(r.source)}function C(){const e={};return x(()=>{for(var s in e)e[s].unsubscribe()}),e}export{B as a,A as i,C as s};
